# archive-server

Это асинхронный архив-сервер с пулом потоков.

# Описание

Сервер будет архивировать поток, получаемый от клиента и будет храниться некоторые файлы:

# Команды

+ "**zip** `<name> <bytes_size>`" - далее клиент шлёт байтовый поток, сервер его архивирует и сохраняет файл у себя.

+ "**get** `<name>`" – клиент требует заархивированный файл с именем,

+ "**zip-and-get** `<name> <bytes_size>`" – сервер одновременно принимает, архивирует и отсылает сжатые данные обратно клиенту.

+ "**unzip** `<name> <byte_size>`" - далее клиент шлёт байтовый поток, сервер его разархивирует и сохраняет файл у себя.

+ "**unzip-and-get** `<name> <bytes_size>`" – сервер одновременно принимает, разархивирует и отсылает сжатые данные обратно клиенту.
### Конфигурация сервера
Запуск ./archsrv
  
| Аргументы | Описание |
| --- | --- |
| \-d \-\-dir=\<path\> | путь до папки сервера, где сохранять файлы \(future\) |
| \-i \-\-ip=\<IP\> | IP адрес, на котором работает listener сервер |
| \-p \-\-port=\<uint\> | порт, на котором работает listener сервера |
| \-n \-\-maxnfiles=\<uint\> | максимальная число файлов, что клиент может сохранить |
| \-r \-\-reqspermin=\<uint\> | максимальная количество обращений на архивацию от 1 клиента в 1 минуту |
| \-w \-\-workers=\<uint\> | число потоков |
| \-v \-\-verbose | печатать в stdout подробно производимые операции сервером \(stderr\), без этого флага печатать только ошибки |
| \-h \-\-help | распечатать в консоль аргументы, как использовать программу |